(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[976],{230:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var s=r(6057),n=r(9806),a=r(8050),i=r(2246),o=r(9828);let l="https://api.infps-demo.com/api",u=i.A.create({baseURL:l,withCredentials:!0,headers:{"Content-Type":"application/json"}});function c(e){let{bodyType:t="json",endpoint:r,exact:i=!0,queryKey:o=[],method:c="GET",params:d,headers:h,enabled:m=!0,onSuccess:f,onError:p,baseUrl:g,queryString:v,invalidateKeys:y}=e,w=(0,s.jE)(),x=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let s={method:c,url:null!=r?r:"",baseURL:null!=g?g:l,headers:h?{...h}:void 0,params:d};v&&(s.url="".concat(s.url,"?").concat(v)),e&&"GET"!==c&&("formdata"===t?(s.data=e,s.headers={...s.headers,"Content-Type":"multipart/form-data"}):s.data=e);let n=await u.request(s);return{data:n.data,status:n.status}}catch(t){var s,n,a,i,o;let e=(null==(s=t.response)?void 0:s.status)||500;return{error:(null==(a=t.response)||null==(n=a.data)?void 0:n.error)||(null==(o=t.response)||null==(i=o.data)?void 0:i.message)||t.message||"Internal error",status:e}}};if(m&&"GET"===c){var b;let e=(0,n.I)({queryKey:o,queryFn:()=>x(),refetchOnWindowFocus:!1,retry:(e,t)=>(null==t?void 0:t.status)!==401&&(null==t?void 0:t.status)!==403&&e<3,refetchOnReconnect:!1,staleTime:1/0});return{data:null==(b=e.data)?void 0:b.data,error:e.error,isPending:e.isPending,isError:e.isError,isSuccess:e.isSuccess}}let{data:k,error:A,mutate:j,mutateAsync:N,isPending:E,isSuccess:I,isError:L,reset:P}=(0,a.n)({mutationFn:async e=>{let t=await x(e);if(t.error)throw Error(t.error,{cause:t.status});return t},onSuccess:async e=>{if([200,201,204].includes(e.status)){if(o.length&&w.invalidateQueries({queryKey:o,exact:i}),null==y?void 0:y.length)for(let e of y)w.invalidateQueries(e);null==f||f()}},onError:e=>{let t={message:e.message||"An error occurred",name:e.name||"Error",cause:e.cause,stack:e.stack};null==p||p(t)}});return{data:null==k?void 0:k.data,error:A,isPending:E,isError:L,isSuccess:I,mutate:j,mutateAsync:N,reset:P}}u.interceptors.response.use(e=>e,e=>{var t;if((null==(t=e.response)?void 0:t.status)===401){let e=window.location.pathname;if(!e.includes("/login")&&!e.includes("/signup")){let{clearAuth:e}=o.n.getState();e(),window.location.href="/login"}}return Promise.reject(e)})},983:(e,t,r)=>{"use strict";var s=r(6495);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},1861:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var s=r(6662);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:u="",children:c,iconNode:d,...h}=e;return(0,s.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:r,strokeWidth:l?24*Number(o)/Number(n):o,className:a("lucide",u),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"},...h},[...d.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),l=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:l,...u}=r;return(0,s.createElement)(o,{ref:i,iconNode:t,className:a("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),l),...u})});return r.displayName=n(e),r}},3077:(e,t,r)=>{Promise.resolve().then(r.bind(r,8100))},3098:(e,t,r)=>{"use strict";r.d(t,{So:()=>i,Wn:()=>o,vz:()=>a,wV:()=>l});var s=r(230),n=r(5772);function a(){return(0,s.A)({endpoint:n.b.auth.login,method:"POST",invalidateKeys:[{queryKey:["session"]}]})}function i(){return(0,s.A)({endpoint:n.b.auth.signup,method:"POST",invalidateKeys:[{queryKey:["session"]}]})}function o(){return(0,s.A)({endpoint:n.b.auth.logout,method:"POST",invalidateKeys:[{queryKey:["session"]}]})}function l(){return(0,s.A)({endpoint:n.b.auth.session,method:"GET",queryKey:["session"]})}},5772:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});let s={auth:{login:"/auth/breeder/login",logout:"/auth/breeder/logout",signup:"/auth/breeder/signup",session:"/auth/session"},user:{currentUser:"/users/profile"},birds:{all:"/birds",create:"/birds",update:e=>"/birds/".concat(e)},events:{all:"/events",byId:e=>"/events/".concat(e),more:e=>"/events/".concat(e,"/more")},eventInventory:{create:"/event-inventory",getmyevents:"/event-inventory/my-events"},payment:{capture:"/payments/capture"}}},8100:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var s=r(13),n=r(3098),a=r(9828),i=r(1861);let o=(0,i.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),l=(0,i.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),u=(0,i.A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var c=r(3858),d=r.n(c),h=r(983),m=r(8688);function f(){let e=(0,h.usePathname)();(0,h.useRouter)();let{setUser:t}=(0,a.n)(),{mutateAsync:r}=(0,n.Wn)(),i=async()=>{if(r)try{document.cookie="accessToken=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";let{data:e,error:t}=await r({});if(t)return void m.o.error("Failed to log out");m.o.success("Logged out successfully")}catch(e){m.o.error("An error occurred while logging out")}};return(0,s.jsxs)("div",{className:"w-full lg:w-64 lg:min-w-64",children:[(0,s.jsx)("div",{className:"flex flex-row lg:flex-col gap-2 overflow-x-auto lg:overflow-x-visible",children:[{name:"My Profile",href:"/profile",leftIcon:o,rightIcon:l},{name:"Birds",href:"/profile/birds",leftIcon:o,rightIcon:l},{name:"Events",href:"/profile/my-events",leftIcon:o,rightIcon:l},{name:"Payment",href:"/profile/payments",leftIcon:o,rightIcon:l}].map(t=>(0,s.jsxs)(d(),{href:t.href,className:"".concat((e===t.href||"/profile"!==t.href&&e.startsWith(t.href))&&"bg-secondary text-white"," flex items-center justify-between py-3 lg:py-4 px-3 lg:px-1 whitespace-nowrap flex-shrink-0 lg:flex-shrink min-w-fit lg:min-w-0"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t.leftIcon,{className:"w-4 h-4 lg:w-5 lg:h-5"}),(0,s.jsx)("span",{className:"text-sm lg:text-base",children:t.name})]}),(0,s.jsx)(t.rightIcon,{className:"w-4 h-4 lg:w-5 lg:h-5 hidden lg:block"})]},t.name))}),(0,s.jsxs)("div",{onClick:i,className:"mt-4 flex items-center space-x-2 lg:space-x-4 p-3 lg:p-4 cursor-pointer",children:[(0,s.jsx)(u,{className:"w-4 h-4 lg:w-5 lg:h-5"}),(0,s.jsx)("span",{className:"text-sm lg:text-base",children:"Logout"})]})]})}},9828:(e,t,r)=>{"use strict";r.d(t,{n:()=>s});let s=(0,r(9568).v)()((e,t)=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:t=>e({user:t,isAuthenticated:!!t,isLoading:!1}),clearAuth:()=>e({user:null,isAuthenticated:!1,isLoading:!1}),setLoading:t=>e({isLoading:t})}))}},e=>{e.O(0,[46,616,688,858,1,540,358],()=>e(e.s=3077)),_N_E=e.O()}]);