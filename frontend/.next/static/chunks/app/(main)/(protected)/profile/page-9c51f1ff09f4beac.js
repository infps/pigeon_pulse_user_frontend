(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55],{230:(e,r,n)=>{"use strict";n.d(r,{A:()=>c});var s=n(6057),t=n(9806),i=n(8050),a=n(2246),l=n(9828);let o="https://api.infps-demo.com/api",d=a.A.create({baseURL:o,withCredentials:!0,headers:{"Content-Type":"application/json"}});function c(e){let{bodyType:r="json",endpoint:n,exact:a=!0,queryKey:l=[],method:c="GET",params:u,headers:m,enabled:x=!0,onSuccess:h,onError:p,baseUrl:v,queryString:g,invalidateKeys:j}=e,f=(0,s.jE)(),b=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let s={method:c,url:null!=n?n:"",baseURL:null!=v?v:o,headers:m?{...m}:void 0,params:u};g&&(s.url="".concat(s.url,"?").concat(g)),e&&"GET"!==c&&("formdata"===r?(s.data=e,s.headers={...s.headers,"Content-Type":"multipart/form-data"}):s.data=e);let t=await d.request(s);return{data:t.data,status:t.status}}catch(r){var s,t,i,a,l;let e=(null==(s=r.response)?void 0:s.status)||500;return{error:(null==(i=r.response)||null==(t=i.data)?void 0:t.error)||(null==(l=r.response)||null==(a=l.data)?void 0:a.message)||r.message||"Internal error",status:e}}};if(x&&"GET"===c){var y;let e=(0,t.I)({queryKey:l,queryFn:()=>b(),refetchOnWindowFocus:!1,retry:(e,r)=>(null==r?void 0:r.status)!==401&&(null==r?void 0:r.status)!==403&&e<3,refetchOnReconnect:!1,staleTime:1/0});return{data:null==(y=e.data)?void 0:y.data,error:e.error,isPending:e.isPending,isError:e.isError,isSuccess:e.isSuccess}}let{data:w,error:N,mutate:A,mutateAsync:I,isPending:C,isSuccess:P,isError:S,reset:z}=(0,i.n)({mutationFn:async e=>{let r=await b(e);if(r.error)throw Error(r.error,{cause:r.status});return r},onSuccess:async e=>{if([200,201,204].includes(e.status)){if(l.length&&f.invalidateQueries({queryKey:l,exact:a}),null==j?void 0:j.length)for(let e of j)f.invalidateQueries(e);null==h||h()}},onError:e=>{let r={message:e.message||"An error occurred",name:e.name||"Error",cause:e.cause,stack:e.stack};null==p||p(r)}});return{data:null==w?void 0:w.data,error:N,isPending:C,isError:S,isSuccess:P,mutate:A,mutateAsync:I,reset:z}}d.interceptors.request.use(e=>{{let r=localStorage.getItem("accessToken");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e)),d.interceptors.response.use(e=>e,e=>{var r;if((null==(r=e.response)?void 0:r.status)===401){let e=window.location.pathname;if(!e.includes("/login")&&!e.includes("/signup")){let{clearAuth:e}=l.n.getState();e(),localStorage.removeItem("accessToken"),window.location.href="/login"}}return Promise.reject(e)})},1188:(e,r,n)=>{Promise.resolve().then(n.bind(n,5440))},2069:(e,r,n)=>{"use strict";n.d(r,{cn:()=>i});var s=n(418),t=n(3750);function i(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return(0,t.QP)((0,s.$)(r))}},2403:(e,r,n)=>{"use strict";n.d(r,{p:()=>i});var s=n(13);n(6662);var t=n(2069);function i(e){let{className:r,type:n,...i}=e;return(0,s.jsx)("input",{type:n,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...i})}},3177:(e,r,n)=>{"use strict";n.d(r,{J:()=>a});var s=n(13);n(6662);var t=n(3539),i=n(2069);function a(e){let{className:r,...n}=e;return(0,s.jsx)(t.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...n})}},3701:(e,r,n)=>{"use strict";n.d(r,{$:()=>o});var s=n(13);n(6662);var t=n(6499),i=n(9156),a=n(2069);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:n,size:i,asChild:o=!1,...d}=e,c=o?t.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,a.cn)(l({variant:n,size:i,className:r})),...d})}},5440:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>h});var s=n(13),t=n(3701),i=n(7351),a=n(2403),l=n(230),o=n(5772),d=n(533);n(6662);var c=n(9721),u=n(8688),m=n(8248);let x=m.Ay$.object({name:m.Ay$.string().min(1,"Name is required").optional(),country:m.Ay$.string().min(1,"Country is required").optional(),ssn:m.Ay$.string().min(1,"SSN is required").optional(),taxNumber:m.Ay$.string().min(1,"Tax number is required").optional(),address:m.Ay$.string().min(1,"Address is required").optional(),city:m.Ay$.string().min(1,"City is required").optional(),state:m.Ay$.string().min(1,"State is required").optional(),zip:m.Ay$.string().min(1,"ZIP code is required").optional(),primaryPhone:m.Ay$.string().min(1,"Primary phone is required").optional(),cellPhone:m.Ay$.string().min(1,"Cell phone is required").optional(),fax:m.Ay$.string().min(1,"Fax is required").optional(),sms:m.Ay$.string().min(1,"SMS is required").optional(),alternativeEmail:m.Ay$.string().email("Invalid email").optional(),webAddress:m.Ay$.string().url("Invalid URL").optional()});function h(){let{data:e,error:r,isError:n,isPending:t,isSuccess:i}=(0,l.A)({endpoint:o.b.user.currentUser,method:"GET",queryKey:["currentUser"]});if(t)return(0,s.jsx)("div",{children:"Loading..."});if(n)return(0,s.jsxs)("div",{children:["Error: ",r.message]});let a=null==e?void 0:e.data;return(0,s.jsx)("div",{children:(0,s.jsx)(p,{userProfile:a})})}function p(e){let{userProfile:r}=e,{mutateAsync:n}=(0,l.A)({endpoint:o.b.user.currentUser,method:"PUT",invalidateKeys:[{queryKey:["currentUser"]}]}),m=(0,c.mN)({resolver:(0,d.u)(x),defaultValues:{name:(null==r?void 0:r.name)||"",country:(null==r?void 0:r.country)||"",ssn:(null==r?void 0:r.ssn)||"",taxNumber:(null==r?void 0:r.taxNumber)||"",address:(null==r?void 0:r.address)||"",city:(null==r?void 0:r.city)||"",state:(null==r?void 0:r.state)||"",zip:(null==r?void 0:r.zip)||"",primaryPhone:(null==r?void 0:r.primaryPhone)||"",cellPhone:(null==r?void 0:r.cellPhone)||"",fax:(null==r?void 0:r.fax)||"",sms:(null==r?void 0:r.sms)||"",alternativeEmail:(null==r?void 0:r.alternativeEmail)||"",webAddress:(null==r?void 0:r.webAddress)||""}});async function h(e){try{if(!n)return;await n(e),u.o.success("Profile updated successfully!")}catch(e){u.o.error(e.message||"Update failed. Please try again.")}}return(0,s.jsx)("div",{className:"w-full max-w-3xl mx-auto",children:(0,s.jsxs)(i.lV,{...m,children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-center mb-1",children:"My Profile"}),(0,s.jsx)("p",{className:"text-center text-sm text-muted-foreground mb-6",children:"Update your account information"}),(0,s.jsxs)("form",{onSubmit:m.handleSubmit(h),className:"space-y-10 w-full",children:[(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(i.zB,{control:m.control,name:"name",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Name"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"country",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Country"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"ssn",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"SSN"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"taxNumber",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Tax Number"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}})]})]}),(0,s.jsxs)("section",{className:"border-t pt-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Address Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(i.zB,{control:m.control,name:"address",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Address"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"city",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"City"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"state",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"State"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"zip",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"ZIP Code"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}})]})]}),(0,s.jsxs)("section",{className:"border-t pt-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Contact Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(i.zB,{control:m.control,name:"primaryPhone",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Primary Phone"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"cellPhone",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Cell Phone"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"fax",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Fax"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"sms",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"SMS"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"alternativeEmail",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Alternative Email"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",type:"email",...r})}),(0,s.jsx)(i.C5,{})]})}}),(0,s.jsx)(i.zB,{control:m.control,name:"webAddress",render:e=>{let{field:r}=e;return(0,s.jsxs)(i.eI,{children:[(0,s.jsx)(i.lR,{children:"Web Address"}),(0,s.jsx)(i.MJ,{children:(0,s.jsx)(a.p,{className:"shadow-none",type:"url",...r})}),(0,s.jsx)(i.C5,{})]})}})]})]}),(0,s.jsx)(t.$,{disabled:m.formState.isSubmitting,className:"w-full",type:"submit",children:m.formState.isSubmitting?"Updating...":"Update Profile"})]})]})})}},5772:(e,r,n)=>{"use strict";n.d(r,{b:()=>s});let s={auth:{login:"/auth/breeder/login",logout:"/auth/breeder/logout",signup:"/auth/breeder/signup",session:"/auth/session"},user:{currentUser:"/users/profile"},birds:{all:"/birds",create:"/birds",update:e=>"/birds/".concat(e)},events:{all:"/events",byId:e=>"/events/".concat(e),more:e=>"/events/".concat(e,"/more")},eventInventory:{create:"/event-inventory",getmyevents:"/event-inventory/my-events"},payment:{capture:"/payments/capture"}}},7351:(e,r,n)=>{"use strict";n.d(r,{C5:()=>g,MJ:()=>v,eI:()=>h,lR:()=>p,lV:()=>d,zB:()=>u});var s=n(13),t=n(6662),i=n(6499),a=n(9721),l=n(2069),o=n(3177);let d=a.Op,c=t.createContext({}),u=e=>{let{...r}=e;return(0,s.jsx)(c.Provider,{value:{name:r.name},children:(0,s.jsx)(a.xI,{...r})})},m=()=>{let e=t.useContext(c),r=t.useContext(x),{getFieldState:n}=(0,a.xW)(),s=(0,a.lN)({name:e.name}),i=n(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...i}},x=t.createContext({});function h(e){let{className:r,...n}=e,i=t.useId();return(0,s.jsx)(x.Provider,{value:{id:i},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,l.cn)("grid gap-2",r),...n})})}function p(e){let{className:r,...n}=e,{error:t,formItemId:i}=m();return(0,s.jsx)(o.J,{"data-slot":"form-label","data-error":!!t,className:(0,l.cn)("data-[error=true]:text-destructive",r),htmlFor:i,...n})}function v(e){let{...r}=e,{error:n,formItemId:t,formDescriptionId:a,formMessageId:l}=m();return(0,s.jsx)(i.DX,{"data-slot":"form-control",id:t,"aria-describedby":n?"".concat(a," ").concat(l):"".concat(a),"aria-invalid":!!n,...r})}function g(e){var r;let{className:n,...t}=e,{error:i,formMessageId:a}=m(),o=i?String(null!=(r=null==i?void 0:i.message)?r:""):t.children;return o?(0,s.jsx)("p",{"data-slot":"form-message",id:a,className:(0,l.cn)("text-destructive text-sm",n),...t,children:o}):null}},9828:(e,r,n)=>{"use strict";n.d(r,{n:()=>s});let s=(0,n(9568).v)()((e,r)=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:r=>e({user:r,isAuthenticated:!!r,isLoading:!1}),clearAuth:()=>{localStorage.removeItem("accessToken"),e({user:null,isAuthenticated:!1,isLoading:!1})},setLoading:r=>e({isLoading:r}),checkAuthFromStorage:()=>!!localStorage.getItem("accessToken")}))}},e=>{e.O(0,[46,616,219,688,143,248,1,540,358],()=>e(e.s=1188)),_N_E=e.O()}]);